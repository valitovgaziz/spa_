import{_ as u,F as L,a as y}from"./footerB-B2x-DufX.js";import{o as c,c as d,w as g,v as f,b as _,f as k,i as $,s as h,u as w,j as C,a as r,k as x,r as i,l as F,t as v,F as V}from"./index-DglDEnDz.js";const B={name:"LogoutCooky",methods:{async logout(){try{await this.$store.dispatch("logout"),this.$router.push("/login")}catch{alert("Logout failed")}}}};function I(e,o,l,a,n,s){return c(),d("button",{onClick:o[0]||(o[0]=(...t)=>s.logout&&s.logout(...t))},"Logout")}const b=u(B,[["render",I]]),A={name:"LoginCooky",data(){return{credentials:{email:"",password:""}}},methods:{async login(){try{await this.$store.dispatch("login",this.credentials),this.$router.push("/")}catch{alert("Login failed")}}}};function H(e,o,l,a,n,s){return c(),d("form",{onSubmit:o[2]||(o[2]=k((...t)=>s.login&&s.login(...t),["prevent"]))},[g(_("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>n.credentials.email=t),type:"email",placeholder:"Email",required:""},null,512),[[f,n.credentials.email]]),g(_("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>n.credentials.password=t),type:"password",placeholder:"Password",required:""},null,512),[[f,n.credentials.password]]),o[3]||(o[3]=_("button",{type:"submit"},"Login",-1))],32)}const M=u(A,[["render",H]]),N={components:{LogoutCooky:b,LoginCooky:M},setup(){$(()=>{h.dispatch("checkAuth")});const{t:e}=w(),o=C(()=>h.getters.isAthenticated);return{t:e,isAuthed:o}}},q={key:0},D={key:1};function E(e,o,l,a,n,s){const t=i("LoginCooky"),p=i("RouterLink"),m=i("LogoutCooky");return a.isAuthed?(c(),d("div",D,[r(m)])):(c(),d("div",q,[r(t),r(p,{id:"registration",to:"/registration"},{default:x(()=>[F(v(a.t("messages.registration")),1)]),_:1})]))}const R=u(N,[["render",E]]),S={name:"LogInView",components:{FHeader:L,LogIn:R,FooterB:y}};function T(e,o,l,a,n,s){const t=i("FHeader"),p=i("LogIn"),m=i("FooterB");return c(),d(V,null,[r(t),r(p),r(m)],64)}const P=u(S,[["render",T]]);export{P as default};
