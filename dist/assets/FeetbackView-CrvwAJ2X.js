import{_ as v,H as f,F as R}from"./footer-h360CYFE.js";import{a as l}from"./axios-upsvKRUO.js";import{o as i,c as a,b as r,w as b,v as F,F as p,d as x,t as w,a as c,r as d}from"./index-D0uUuQdB.js";const k={data(){return{reviews:[],newReview:""}},mounted(){this.loadReviews()},methods:{async loadReviews(){try{const e=await l.get("http://213.108.4.63:3000/reviews");this.reviews=e.data.slice(0,5)}catch(e){console.error("Ошибка при загрузке отзывов:",e)}},async submitReview(){if(this.newReview.trim())try{const e=await l.post("http://213.108.4.63:3000/reviews",{text:this.newReview});this.reviews.unshift(e.data),this.newReview="",this.reviews.length>5&&this.reviews.pop()}catch(e){console.error("Ошибка при отправке отзыва:",e)}},formatDate(e){return new Date(e).toLocaleString()}}},y={class:"reviews-container"},g={class:"add-review"},D=["disabled"],H={class:"reviews-list"};function V(e,s,m,_,o,n){return i(),a("div",y,[s[2]||(s[2]=r("h2",null,"Отзывы о приложении",-1)),r("div",g,[b(r("textarea",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.newReview=t),placeholder:"Напишите ваш отзыв...",rows:"4"},null,512),[[F,o.newReview]]),r("button",{onClick:s[1]||(s[1]=(...t)=>n.submitReview&&n.submitReview(...t)),disabled:!o.newReview.trim()},"Оставить отзыв",8,D)]),r("div",H,[(i(!0),a(p,null,x(o.reviews,t=>(i(),a("div",{key:t.id,class:"review-item"},[r("p",null,w(t.text),1),r("small",null,w(n.formatDate(t.created_at)),1)]))),128))])])}const B=v(k,[["render",V],["__scopeId","data-v-1736d80d"]]),$={components:{Header:f,Footer:R,Feetback:B}};function C(e,s,m,_,o,n){const t=d("Header"),u=d("Feetback"),h=d("Footer");return i(),a(p,null,[c(t),c(u),c(h)],64)}const E=v($,[["render",C]]);export{E as default};
